---
title: Interface HR
updated: 2021-11-10 09:06:43Z
created: 2018-10-22 09:43:27Z
source: >-
  http://saperpdev.ipl.pt:8000/sap/bc/webdynpro/sap/appl_soap_management?sap-system-login-basic_auth=X&sap-client=100&sap-language=PT
author: André Luz
tags:
  - ipl
---

**WebServices**

**ISEL**

https://portal.ipl.pt/ws/isel/hr-dev/
https://portal.ipl.pt/ws/isel/hr-qes/
https://portal.ipl.pt/ws/isel/hr-prd/

[https://portal.ipl.pt/ws/isel/hr-qes](https://portal.ipl.pt/ws/isel/hr-qes/)[/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200](http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200)

[https://portal.ipl.pt/ws/isel/hr-prd](https://portal.ipl.pt/ws/isel/hr-prd/)[/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200](http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200)

[https://portal.ipl.pt/ws/isel/hr-qes](https://portal.ipl.pt/ws/isel/hr-qes/)[/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200](http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200)

[https://portal.ipl.pt/ws/isel/hr-prd](https://portal.ipl.pt/ws/isel/hr-prd/)[/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200](http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200)

[/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200](http://saperpprd:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200)

[/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200](http://saperpprd:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200)

**SAS (****192.168.1.100****)**

**Dados Mestre**

http://saperpprd:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100

http://192.168.1.100:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100

* * *

**10.3.130.103**

http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100

[http://10.3.130.103:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100](http://10.3.130.103:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100)

**Envios**

http://saperpprd:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100

http://192.168.1.100:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100

* * *

**10.3.130.103**

http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100

[http://10.3.130.103:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100](http://10.3.130.103:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100)

* * *

**PRODUTIVO**
**192.168.1.100**
**Dados Mestre**

[http://SAPERPPRD:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200](http://saperpprd:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200)

**Envios**

[http://SAPERPPRD:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200](http://saperpprd:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200)

* * *

**QUALIDADE**
**Dados Mestre**

http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/200/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=200

**Envios**

http://saperpqas.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/200/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=200

* * *

**DESENVOLVIMENTO**
MF: **ZFI_INTEGRA_CONTAB_HR**
WS: **ZFI_WS_CONTAB_HR**

http://saperpdev.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/srvc_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100

http://192.168.1.98:8000/sap/bc/srt/wsdl/flv_10002A111AD1/srvc_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100

https://portal.ipl.pt/ws/isel/rh/sap/bc/srt/wsdl/flv_10002A111AD1/srvc_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr/100/zfi_ws_contab_hr/zfi_ws_contab_hr?sap-client=100

MF: **ZFI_INTEGRA_HR_DADOS_MESTRE **
WS: **ZFI_WS_CONTAB_HR_DADOS_MESTRE**

http://saperpdev.ipl.pt:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100

http://192.168.1.98:8000/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100

https://portal.ipl.pt/ws/isel/rh/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zfi_ws_contab_hr_dados_mestre/100/zfi_ws_contab_hr_dados_mestre/zfi_ws_contab_hr_dados_mestre?sap-client=100

|     |     |     |
| --- | --- | --- |
| **Tabela Interna Dados Mestre** | **Tabela Dados** | **Tabela Textos** |
| ZFI_DM_CENTRO_CUSTO | CSKS | CSKT |
| ZFI_DM_CENTRO_FINANCEIRO | FMFCTR | FMFCTRT |
| ZFI_DM_FUNDO | FMFINCODE | FMFINT |
| ZFI_DM_CONTA | SKA1 | SKAT |
| ZFI_DM_ITEM_FINANCEIRO | FMCI |     |
| ZFI_DM_ENTIDADE | LFA1 |     |

A ter em conta:

- Ao receber os dados calcular logo o somatório do DMBTR e comparar com o MONTANTE_TOTAL do XML que entra no Webservice. Se os montantes forem diferentes então nem integra e devolve mensagem de erro. Assim não entra lixo no sistema e obriga-os a corrigir e voltar a enviar já corrigido para entrar direitinho.
- Ao fazer os lançamentos do cabimento/compromisso/fatura ter em atenção para fazer lançamentos diferentes a cada 998 entradas. As transações aceitam 999 entradas, mas tem que ficar uma linha para a contrapartida, por isso tem que se ler 998 de cada vez

**Notas Reunião ISEL 22.10.2018**

- RFC que devolve os Centros de Custo - Devolve todos os Centros de Custo ativos para o ano

|     |     |
| --- | --- |
| Centro de Custo |     |
| Descrição |     |

- RFC para devolver os Fundos

|     |     |
| --- | --- |
| Fundo |     |
| Fonte Financiamento |     |
| Atividade |     |
| Medida |     |
| Programa |     |
| Descrição |     |

|     |     |
| --- | --- |
| Centro Financeiro |     |
| Descrição |     |

|     |     |
| --- | --- |
| Entidade |     |
| Area de Adm. Financ. |     |

- XML fornecido de exemplo dos vencimentos
    - HEADER
        - Entidade (CompanyID) desnecessário porque só há - Retirar
        - Area Financeira desnecessária porque só há uma - Retirar
        - Criar RFC que devolve entidade e AAF para parametrizarem em tabela e assim não precisamos de retirar do XML

    - DOCUMENTO
        - ID_DOCUMENTO - será mês+ano
        - PERIOD - Mês
        - WORKTYPE (Tipo de documento) - Retirar porque eles não usam
        - DATA_LANCAMENTO - Data para que será feito o lançamento
    - LINES
        - ITEM -
        - NUM_EMPREGADO - Retirar
        - GRUPO_FUNCIONARIOS - Colocar no texto do item
        - CODIGO_VENCIMENTO - Colocar no texto do item
        - MONTANTE - Vem já com o sinal
        - FUNDO - Parametrizado (Devolvido por RFC a eles e depois preenchem)
        - ITEM_FINANCEIRO (Classificação economica) - Parametrizado (Devolvido por RFC a eles e depois preenchem)
        - CENTRO_FINANCEIRO - Parametrizado (Devolvido por RFC a eles e depois preenchem)
        - AREA_FINANCEIRA - Parametrizado (Devolvido por RFC a eles e depois preenchem)
        - TEXTO_ITEM - Retirar
        - CENTRO_CUSTO - Parametrizado (Devolvido por RFC a eles e depois preenchem)
        - CONTA_SNC (Conta do Razão) - Parametrizado - Preenche ou esta ou a CONTA_ENTIDADE
        - CONTA_ENTIDADE (Conta de terceiro) - Parametrizado (Devolvido por RFC a eles e depois preenchem) - Preenche esta ou a CONTA_SNC

Ver como determinar a conta da contra-partida

- RFC para ler os dados mestre de fornecedor - Devolve todos por grupo de fornecedores ???

|     |     |
| --- | --- |
| Fornecedor |     |
|     |     |
|     |     |

- Os dados são carregados nas tabelas interna e depois são listados em cockpit e alguem terá que aprovar e serão feitos os lançamentos - Cabimento + Compromisso + Fatura